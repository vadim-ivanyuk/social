{"version":3,"sources":["utils/cookies.js","redux/auth/auth.types.js","redux/auth/auth.reducers.js","redux/rootReducer.js","redux/store.js","reportWebVitals.js","redux/auth/auth.actions.js","hoc/withAuth.jsx","components/Header/User.jsx","hoc/withFirebaseDb.jsx","utils/apies.js","components/Header/Authentication/AuthenticationForm/AuthenticationFormModal.jsx","components/Header/Authentication/AuthenticationForm/AuthenticationForm.jsx","components/Header/Authentication/RegistrationForm/RegistrationForm.jsx","components/Header/Authentication/Authentication.jsx","images/fon.jpg","images/social.svg","components/Header/Header.jsx","App.jsx","index.js"],"names":["cookies","Cookies","TOGGLE_REGISTRATION_FORM","TOGGLE_AUTHENTICATION_FORM","UPDATE_USER","LOGOUT","initialState","user","user_id","get","showRegistrationForm","showAuthenticationForm","combineReducers","auth","state","action","type","types","payload","email","password","name","avatar","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","next","remove","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","toggleRegistrationForm","show","toggleAuthenticationForm","updateUser","onLogOut","mapStateToProps","mapDispatchToProps","dispatch","authActions","bindActionCreators","withAuth","Component","connect","this","props","React","useState","showUserModal","toggleUserModal","open","Boolean","id","className","onClick","event","currentTarget","src","alt","Popover","anchorEl","onClose","anchorOrigin","vertical","horizontal","transformOrigin","Typography","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","withFirebaseDb","AuthenticationFormModal","onSubmit","handleChange","handleBlur","errors","firebaseError","htmlFor","value","placeholder","onChange","onBlur","firebaseDb","database","updateErrors","updateFirebaseError","validateFields","length","signIn","signInWithEmailAndPassword","data","ref","child","uid","on","elem","val","set","maxAge","catch","error","message","e","preventDefault","Object","keys","target","setState","prevState","handleChangeAvatar","reader","FileReader","onload","result","readAsDataURL","files","createAccount","createUserWithEmailAndPassword","console","log","Authentication","toggleAuthenticationModal","toggleRegistrationModal","Modal","isOpen","toggle","ModalBody","fon","social","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd6dfdd8.chunk.js","sourcesContent":["import Cookies from \"universal-cookie\";\r\n\r\nexport const cookies = new Cookies();\r\n","export const TOGGLE_REGISTRATION_FORM = \"TOGGLE_REGISTRATION_FORM\";\r\nexport const TOGGLE_AUTHENTICATION_FORM = \"TOGGLE_AUTHENTICATION_FORM\";\r\nexport const UPDATE_USER = \"UPDATE_USER\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n","import * as types from \"./auth.types\";\r\nimport { cookies } from \"../../utils/cookies\";\r\n\r\nconst initialState = {\r\n  user: null,\r\n  user_id: cookies.get(\"user_id\"),\r\n  showRegistrationForm: false,\r\n  showAuthenticationForm: false,\r\n};\r\n\r\nexport default function authReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case types.TOGGLE_REGISTRATION_FORM:\r\n      return {\r\n        ...state,\r\n        showRegistrationForm: action.payload,\r\n      };\r\n    case types.TOGGLE_AUTHENTICATION_FORM:\r\n      return {\r\n        ...state,\r\n        showAuthenticationForm: action.payload,\r\n      };\r\n    case types.UPDATE_USER:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          email: action.payload.email,\r\n          password: action.payload.password,\r\n          name: action.payload.name,\r\n          avatar: action.payload.avatar,\r\n        },\r\n      };\r\n    case types.LOGOUT:\r\n      return (state = initialState);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"../redux/auth/auth.reducers\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n});\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { cookies } from \"../utils/cookies\";\r\nimport rootReducer from \"../redux/rootReducer\";\r\nimport { LOGOUT } from \"./auth/auth.types\";\r\n\r\nconst updateCookies = () => (next) => (action) => {\r\n  if (action.type === LOGOUT) {\r\n    cookies.remove(\"user_id\", {\r\n      path: \"/\",\r\n    });\r\n  }\r\n\r\n  return next(action);\r\n};\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk, updateCookies))\r\n);\r\n\r\nexport default store;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import * as types from \"./auth.types\";\r\n\r\nexport const toggleRegistrationForm = (show) => {\r\n  return {\r\n    type: types.TOGGLE_REGISTRATION_FORM,\r\n    payload: show,\r\n  };\r\n};\r\n\r\nexport const toggleAuthenticationForm = (show) => {\r\n  return {\r\n    type: types.TOGGLE_AUTHENTICATION_FORM,\r\n    payload: show,\r\n  };\r\n};\r\n\r\nexport const updateUser = (user) => {\r\n  return {\r\n    type: types.UPDATE_USER,\r\n    payload: user,\r\n  };\r\n};\r\n\r\nexport const onLogOut = () => {\r\n    return {\r\n        type: types.LOGOUT\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as authActions from \"../redux/auth/auth.actions\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    auth: state.auth,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authActions: bindActionCreators(authActions, dispatch),\r\n});\r\n\r\nexport const withAuth = (Component) =>\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(\r\n    class WithAuth extends React.Component {\r\n      render() {\r\n        return <Component {...this.props} />;\r\n      }\r\n    }\r\n  );\r\n","import React, { useState } from \"react\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { withAuth } from \"../../hoc/withAuth.jsx\";\r\n\r\nconst User = (props) => {\r\n  const [showUserModal, toggleUserModal] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    toggleUserModal(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    toggleUserModal(null);\r\n  };\r\n\r\n  const open = Boolean(showUserModal);\r\n\r\n  const {\r\n    auth: { user },\r\n    authActions,\r\n  } = props;\r\n  return (\r\n    <>\r\n      <div id=\"UserModal\" className=\"cursor-pointer\" onClick={handleClick}>\r\n        <img src={user.avatar} className=\"user-img\" alt=\"\" />\r\n        <span className=\"ml-2\">Зраствуйте {user.name}</span>\r\n      </div>\r\n      <Popover\r\n        id=\"UserModal\"\r\n        open={open}\r\n        anchorEl={showUserModal}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n        className=\"user-modal\"\r\n      >\r\n        <Typography className=\"user-modal__name\">\r\n          {user.name}{\" \"}\r\n          <span className=\"user-modal__subname\">Смотреть профиль</span>\r\n        </Typography>\r\n        <Typography\r\n          onClick={() => authActions.onLogOut()}\r\n          className=\"user-modal__log-out\"\r\n        >\r\n          Выйти\r\n        </Typography>\r\n      </Popover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withAuth(User);\r\n","import React from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport { firebaseConfig } from \"../utils/apies\";\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const withFirebaseDb = (Component) =>\r\n  class withFirebaseDb extends React.Component {\r\n    render() {\r\n      return <Component {...this.props} />;\r\n    }\r\n  };\r\n","export const firebaseConfig = {\r\n  apiKey: \"AIzaSyBoHi_4IpiBXc4yRM9LWKIZxxRWlLt8A-4\",\r\n  authDomain: \"iva-social.firebaseapp.com\",\r\n  databaseURL: \"https://iva-social-default-rtdb.firebaseio.com\",\r\n  projectId: \"iva-social\",\r\n  storageBucket: \"iva-social.appspot.com\",\r\n  messagingSenderId: \"986166095297\",\r\n  appId: \"1:986166095297:web:ad78f6530e4461adbfd340\",\r\n  measurementId: \"G-BT1V9GB04V\",\r\n};\r\n","import React from \"react\";\r\n\r\nexport const AuthenticationFormModal = (props) => {\r\n  const {\r\n    user,\r\n    onSubmit,\r\n    handleChange,\r\n    handleBlur,\r\n    errors,\r\n    firebaseError,\r\n  } = props;\r\n  return (\r\n    <div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n      <form className=\"col-11 registration-form\" onSubmit={onSubmit}>\r\n        <h3 className=\"text-center mb-2 mt-2 form-title\">Авторизация</h3>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Логин:</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            value={user.email}\r\n            placeholder=\"Введите email\"\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n          />\r\n          <p className=\"text-danger error-text\">{errors.email}</p>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"password\">Пароль:</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            value={user.password}\r\n            placeholder=\"Введите пароль\"\r\n            onChange={handleChange}\r\n            onBlur={handleBlur}\r\n          />\r\n          <p className=\"text-danger error-text\">{errors.password}</p>\r\n        </div>\r\n        <p className=\"text-danger error-text\">{firebaseError}</p>\r\n        <div className=\"form-group text-center\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-secondary mt-2 pb-2 w-100\"\r\n            onSubmit={onSubmit}\r\n          >\r\n            Войти\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\nimport { cookies } from \"../../../../utils/cookies\";\r\nimport { withFirebaseDb } from \"../../../../hoc/withFirebaseDb.jsx\";\r\nimport { AuthenticationFormModal } from \"./AuthenticationFormModal.jsx\";\r\n\r\nconst firebaseDb = firebase.database();\r\n\r\nconst AuthenticationForm = (props) => {\r\n  const [user, updateUser] = useState({ email: \"\", password: \"\" });\r\n  const [errors, updateErrors] = useState({});\r\n  const [firebaseError, updateFirebaseError] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    updateUser({\r\n      ...user,\r\n      [name]: value,\r\n    });\r\n    updateErrors({\r\n      ...errors,\r\n      [name]: null,\r\n      base: null,\r\n    });\r\n  };\r\n\r\n  const validateFields = () => {\r\n    const errors = {};\r\n    const { email, password } = user;\r\n\r\n    if (email.length < 5) {\r\n      errors.email = \"Укажите логин, в формате primer@gmail.com\";\r\n    }\r\n    if (password.length < 6) {\r\n      errors.password = \"Укажите пароль, минимум 6 зачений\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const handleBlur = (e) => {\r\n    const { name } = e.target;\r\n    const errors = validateFields();\r\n    const error = errors[name];\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      updateErrors({ [name]: error });\r\n    }\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const errors = validateFields();\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      updateErrors({ ...errors });\r\n    } else {\r\n      signIn();\r\n    }\r\n  };\r\n\r\n  const signIn = () => {\r\n    const { authActions } = props;\r\n\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(user.email, user.password)\r\n      .then((data) => {\r\n        authActions.toggleAuthenticationForm(false);\r\n        firebaseDb\r\n          .ref(\"users\")\r\n          .child(data.user.uid)\r\n          .on(\"value\", (elem) => authActions.updateUser(elem.val()));\r\n        cookies.set(\"user_id\", data.user.uid, {\r\n          path: \"/\",\r\n          maxAge: 2592000,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        updateFirebaseError(error.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <AuthenticationFormModal\r\n      user={user}\r\n      onSubmit={onSubmit}\r\n      handleChange={handleChange}\r\n      handleBlur={handleBlur}\r\n      errors={errors}\r\n      firebaseError={firebaseError}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withFirebaseDb(AuthenticationForm);\r\n","import React from \"react\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\nimport \"firebase/auth\";\r\nimport { cookies } from \"../../../../utils/cookies\";\r\nimport { withFirebaseDb } from \"../../../../hoc/withFirebaseDb.jsx\";\r\n\r\nconst firebaseDb = firebase.database();\r\n\r\nclass RegistrationForm extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      user: {\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        avatar: null,\r\n      },\r\n      errors: {},\r\n      firebaseError: \"\",\r\n    };\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState((prevState) => ({\r\n      user: {\r\n        ...prevState.user,\r\n        [name]: value,\r\n      },\r\n      errors: {\r\n        ...prevState.errors,\r\n        [name]: null,\r\n        base: null,\r\n      },\r\n    }));\r\n  };\r\n\r\n  handleChangeAvatar = (e) => {\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (e) => {\r\n      this.setState((prevState) => ({\r\n        user: {\r\n          ...prevState.user,\r\n          avatar: e.target.result,\r\n        },\r\n      }));\r\n    };\r\n\r\n    reader.readAsDataURL(e.target.files[0]);\r\n  };\r\n\r\n  validateFields = () => {\r\n    const errors = {};\r\n    const { email, password, name, avatar } = this.state.user;\r\n\r\n    if (email.length < 5) {\r\n      errors.email = \"Укажите логин, в формате primer@gmail.com\";\r\n    }\r\n    if (password.length < 6) {\r\n      errors.password = \"Укажите пароль, минимум 6 зачений\";\r\n    }\r\n    if (name.length < 5) {\r\n      errors.name = \"Укажите имя, минимум 5 значений\";\r\n    }\r\n    if (avatar === null) {\r\n      errors.avatar = \"Выберите аватар\";\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  handleBlur = (e) => {\r\n    const { name } = e.target;\r\n    const errors = this.validateFields();\r\n    const error = errors[name];\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState((prevState) => ({\r\n        errors: { ...prevState.errors, [name]: error },\r\n      }));\r\n    }\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const errors = this.validateFields();\r\n\r\n    if (Object.keys(errors).length > 0) {\r\n      this.setState({\r\n        errors: { ...errors },\r\n      });\r\n    } else {\r\n      this.createAccount();\r\n    }\r\n  };\r\n\r\n  createAccount = () => {\r\n    const { user } = this.state;\r\n    const { authActions } = this.props;\r\n\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(user.email, user.password)\r\n      .then((data) => {\r\n        authActions.toggleRegistrationForm(false);\r\n        authActions.updateUser(user);\r\n        console.log(user.avatar);\r\n        firebaseDb\r\n          .ref(\"users\")\r\n          .child(data.user.uid)\r\n          .set({ ...user });\r\n        cookies.set(\"user_id\", data.user.uid, {\r\n          path: \"/\",\r\n          maxAge: 2592000,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({\r\n          firebaseError: error.message,\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { user, errors, firebaseError } = this.state;\r\n\r\n    return (\r\n      <div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n        <form className=\"col-11 registration-form\" onSubmit={this.onSubmit}>\r\n          <h3 className=\"text-center mb-2 mt-2 form-title\">Регистрация</h3>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">Имя:</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"name\"\r\n              id=\"name\"\r\n              value={user.name}\r\n              placeholder=\"Укажите свое имя\"\r\n              onChange={this.handleChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            <p className=\"text-danger error-text\">{errors.name}</p>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Логин:</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              name=\"email\"\r\n              id=\"email\"\r\n              value={user.email}\r\n              placeholder=\"Введите email\"\r\n              onChange={this.handleChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            <p className=\"text-danger error-text\">{errors.email}</p>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль:</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              value={user.password}\r\n              placeholder=\"Введите пароль\"\r\n              onChange={this.handleChange}\r\n              onBlur={this.handleBlur}\r\n            />\r\n            <p className=\"text-danger error-text\">{errors.password}</p>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"avatar\">Выберите аватар:</label>\r\n            <input type=\"file\" id=\"avatar\" onChange={this.handleChangeAvatar} />\r\n            <p className=\"text-danger error-text\">{errors.avatar}</p>\r\n          </div>\r\n          <p className=\"text-danger error-text\">{firebaseError}</p>\r\n          <div className=\"form-group text-center\">\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-secondary mt-2 pb-2 w-100\"\r\n              onSubmit={this.onSubmit}\r\n            >\r\n              Зарегистрироваться\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withFirebaseDb(RegistrationForm);\r\n","import React from \"react\";\r\nimport { Modal, ModalBody } from \"reactstrap\";\r\nimport AuthenticationForm from \"./AuthenticationForm/AuthenticationForm.jsx\";\r\nimport RegistrationForm from \"./RegistrationForm/RegistrationForm.jsx\";\r\n\r\nexport const Authentication = (props) => {\r\n  const toggleAuthenticationModal = () => {\r\n    const { auth, authActions } = props;\r\n    authActions.toggleAuthenticationForm(!auth.showAuthenticationForm);\r\n  };\r\n\r\n  const toggleRegistrationModal = () => {\r\n    const { auth, authActions } = props;\r\n    authActions.toggleRegistrationForm(!auth.showRegistrationForm);\r\n  };\r\n\r\n  const { auth, authActions } = props;\r\n  return (\r\n    <>\r\n      <div className=\"col-sm-4\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-light custom-btn-light\"\r\n          onClick={toggleAuthenticationModal}\r\n        >\r\n          Вход\r\n        </button>\r\n      </div>\r\n      <Modal\r\n        isOpen={auth.showAuthenticationForm}\r\n        toggle={toggleAuthenticationModal}\r\n      >\r\n        <ModalBody>\r\n          <AuthenticationForm auth={auth} authActions={authActions} />\r\n        </ModalBody>\r\n      </Modal>\r\n      <div className=\"col-sm-6\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-light custom-btn-light\"\r\n          onClick={toggleRegistrationModal}\r\n        >\r\n          Регистрация\r\n        </button>\r\n      </div>\r\n      <Modal\r\n        isOpen={auth.showRegistrationForm}\r\n        toggle={toggleRegistrationModal}\r\n      >\r\n        <ModalBody>\r\n          <RegistrationForm auth={auth} authActions={authActions} />\r\n        </ModalBody>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/fon.6fc09ea9.jpg\";","export default __webpack_public_path__ + \"static/media/social.11e8adbd.svg\";","import React from \"react\";\r\nimport { withAuth } from \"../../hoc/withAuth.jsx\";\r\nimport User from \"./User.jsx\";\r\nimport { Authentication } from \"./Authentication/Authentication.jsx\";\r\nimport fon from \"../../images/fon.jpg\";\r\nimport social from \"../../images/social.svg\";\r\n\r\nconst Header = (props) => {\r\n  const { auth, authActions } = props;\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header__img-bg\">\r\n        <img src={fon} alt=\"social\" className=\"w-100 h-100 cover\" />\r\n      </div>\r\n      <div className=\"header__above-img\">\r\n        <div className=\"container pt-4 mt-2 pb-4\">\r\n          <div className=\"row justify-content-between\">\r\n            <div className=\"col-sm-3 d-flex justify-content-center\">\r\n              <img src={social} alt=\"\" className=\"header__icon\" />\r\n              <h2 className=\"ml-1 social-title\">Social</h2>\r\n            </div>\r\n            <div className=\"col-sm-4 d-flex align-items-center justify-content-end\">\r\n              {auth.user ? (\r\n                <User />\r\n              ) : (\r\n                <Authentication auth={auth} authActions={authActions} />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withAuth(Header);\r\n","import React, { useEffect } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport Header from \"./components/Header/Header.jsx\";\nimport { withAuth } from \"./hoc/withAuth.jsx\";\n\nconst firebaseDb = firebase.database();\n\nconst App = (props) => {\n  const { auth, authActions } = props;\n\n  useEffect(() => {\n    if (auth.user_id) {\n      firebaseDb\n        .ref(\"users\")\n        .child(auth.user_id)\n        .on(\"value\", (elem) => authActions.updateUser(elem.val()));\n    }\n  }, [auth.user_id, authActions]);\n\n  return <Header />;\n};\n\nexport default withAuth(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport \"./index.css\";\nimport \"./App.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport App from \"./App.jsx\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}